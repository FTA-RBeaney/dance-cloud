{"version":3,"file":"blob.mjs","sources":["../../../../node_modules/.pnpm/uncrypto@0.1.3/node_modules/uncrypto/dist/crypto.web.mjs","../../../../node_modules/.pnpm/mime@3.0.0/node_modules/mime/Mime.js","../../../../node_modules/.pnpm/unenv@1.10.0/node_modules/unenv/runtime/npm/mime.mjs","../../../../node_modules/.pnpm/mime@3.0.0/node_modules/mime/index.js","../../../../node_modules/.pnpm/mime@3.0.0/node_modules/mime/types/standard.js","../../../../node_modules/.pnpm/mime@3.0.0/node_modules/mime/types/other.js","../../../../node_modules/.pnpm/@nuxthub+core@0.7.3_ioredis@5.4.1_magicast@0.3.4_rollup@4.18.0_vite@5.3.5_@types+node@20.14.9_terser@5.31.1_/node_modules/@nuxthub/core/dist/runtime/utils/stream.js","../../../../node_modules/.pnpm/@nuxthub+core@0.7.3_ioredis@5.4.1_magicast@0.3.4_rollup@4.18.0_vite@5.3.5_@types+node@20.14.9_terser@5.31.1_/node_modules/@nuxthub/core/dist/runtime/blob/server/utils/blob.js"],"sourcesContent":null,"names":["webCrypto","globalThis","crypto","randomUUID","Mime","this","_types","Object","create","_extensions","i","arguments","length","define","bind","getType","getExtension","prototype","typeMap","force","type","extensions","map","t","toLowerCase","ext","Error","substr","path","last","String","replace","hasPath","test","RegExp","$1","mime","lookup","extension","noop","async","streamToArrayBuffer","stream","streamSize","result","Uint8Array","bytesRead","reader","getReader","done","value","read","set","load","default_type","charsets","_r2_buckets","getBlobBinding","name","process","env","__env__","hubBlob","requireNuxtHubFeature","hub","useRuntimeConfig","binding","remote","projectUrl","secretKey","blobAPI","ofetch","baseURL","joinURL","headers","Authorization","blob","options","limit","method","query","_event","pathname","decodeURI","put","body","contentType","contentLength","del","pathnames","Array","isArray","p","resumeMultipartUpload","uploadId","partNumber","abort","parts","event","readFormData","delete","handleMultipartUpload","createMultipartUploadHandler","proxyHubBlob","projectSecretKey","userToken","bucket","createError","_useBucket","list","resolvedOptions","defu","include","delimiter","folded","listed","hasMore","truncated","cursor","blobs","objects","mapR2ObjectToBlob","folders","delimitedPrefixes","serve","object","get","message","statusCode","setHeader","httpMetadata","getContentType","size","httpEtag","optionsContentType","addRandomSuffix","prefix","customMetadata","dir","filename","parse","split","head","createMultipartUpload","mapR2MpuToBlobMpu","handleUpload","assertMethod","formKey","multiple","files","getAll","maxSize","types","file","ensureBlob","ensure","push","e","createHandler","getValidatedRouterParams","z","string","min","uploadHandler","getValidatedQuery","coerce","number","Number","getHeader","getRequestWebStream","mpu","uploadPart","status","completeHandler","readValidatedBody","array","etag","complete","abortHandler","action","enum","data","handler","respondWith","Response","json","sendNoContent","pathOrExtension","key","uploadedAt","uploaded","uploadedParts","FILESIZE_UNITS","maxFileSizeBytes","input","regex","join","match","sizeValue","parseFloat","sizeUnit","toUpperCase","includes","bytes","Math","pow","indexOf","floor","fileSizeToBytes","blobShortType"],"mappings":"","x_google_ignoreList":[0,1,2,3,4,5,6,7]}